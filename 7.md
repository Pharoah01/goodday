1:
Aim: Configure UFW to allow only web traffic (HTTP/HTTPS) and deny all other connections.

Requirements:
1. A Linux system with ufw installed (e.g., Ubuntu, Debian)
2. Sudo privileges

Procedure:
1: Check current UFW status
----> sudo ufw status verbose
Displays currently active rules and status (active/inactive).

2: Disable UFW before resetting
----> sudo ufw disable
Stops the firewall temporarily to perform a clean reset.

3: Reset UFW to default settings
----> sudo ufw reset
Removes all existing rules, user-defined chains, and resets to factory defaults.
You’ll be asked for confirmation → type y.

4: Set default policies
----> sudo ufw default deny incoming
sudo ufw default allow outgoing

This ensures the system is secure before adding new rules.

5: Allow web service ports

Enable standard web ports:

----> sudo ufw allow 80/tcp    
sudo ufw allow 443/tcp     

6: Enable UFW
----> sudo ufw enable

7: Verify rules applied
----> sudo ufw status numbered

Output:
Status: active

To                         Action      From
--                         ------      ----
80/tcp                     ALLOW       Anywhere
443/tcp                    ALLOW       Anywhere
80/tcp (v6)                ALLOW       Anywhere (v6)
443/tcp (v6)               ALLOW       Anywhere (v6)

Result:
UFW was successfully reset to default settings, and new rules were applied to allow HTTP and HTTPS traffic.

Sub-ques:
(a) Command to check UFW status: sudo ufw status
(b) If the default incoming policy is set to "deny": 
All incoming connections are blocked by default unless specific rules allow them. 
Outgoing connections are unaffected. 
Ensures a secure default by only permitting explicitly allowed traffic.

2: 2. Configure SSH to run on port 2222 and update firewall rules accordingly:
    1.	Change SSH Port Configuration:
    -->	Open the SSH configuration file using a text editor (e.g., nano or vim):
    sudo nano /etc/ssh/sshd_config
    -->	Find the line that specifies the port (typically #Port 22), and change it to:
    Port 2222
    -->	Save and exit the file.
    2.	Restart the SSH Service to apply the change:
    sudo systemctl restart sshd
    3.	Update Firewall Rules:
    -->	If you're using ufw (Uncomplicated Firewall), allow traffic on port 2222:
    sudo ufw allow 2222/tcp
    -->	Make sure that the default SSH port (22) is blocked or removed from the firewall rules:
    sudo ufw deny 22/tcp
    -->	Then, enable or reload the firewall:
    sudo ufw reload
    If you're using iptables, the commands would be something like:
    sudo iptables -A INPUT -p tcp --dport 2222 -j ACCEPT
    sudo iptables -A INPUT -p tcp --dport 22 -j REJECT

(a) Why is changing the default SSH port considered a security measure?
Changing the default SSH port (which is 22) to a non-standard port, such as 2222, helps to reduce the risk of automated attacks. Many attackers, particularly botnets and script kiddies, specifically target port 22 in their attempts to brute-force login credentials. By changing the port, you add an extra layer of obscurity (also called "security through obscurity"), making it more difficult for attackers to find your SSH service. While this is not a comprehensive security measure by itself, it does help to decrease the volume of unwanted or automated attack attempts. It also reduces the noise in your logs, which makes it easier to spot actual suspicious activity.

(b) How can you test SSH connectivity after changing the port?
To test SSH connectivity after changing the port, use the ssh command with the -p option to specify the new port. For example:
ssh -p 2222 username@your_server_ip
Replace username with your actual SSH username, and your_server_ip with the IP address of your server. If everything is set up correctly, you should be prompted for your password (or authenticate with your SSH key) and be granted access to the server.
If you can't connect, here are a few things to check:
•	Ensure the SSH service is running after the port change:
sudo systemctl status sshd
•	Confirm the firewall is allowing traffic on port 2222 and blocking port 22 (if needed).
•	Make sure the /etc/ssh/sshd_config file has the correct Port 2222 setting