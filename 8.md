1. Reset UFW to its default settings and re-apply rules for web services

Aim:
To reset UFW (Uncomplicated Firewall) on a Linux system to its default state and then configure it to allow web services (HTTP and HTTPS).

Requirements:
1. A Linux system with ufw installed (e.g., Ubuntu, Debian)
2. Sudo privileges

Procedure:
1: Check current UFW status
----> sudo ufw status verbose
Displays currently active rules and status (active/inactive).

2: Disable UFW before resetting
----> sudo ufw disable
Stops the firewall temporarily to perform a clean reset.

3: Reset UFW to default settings
----> sudo ufw reset
Removes all existing rules, user-defined chains, and resets to factory defaults.
You’ll be asked for confirmation → type y.

4: Set default policies
----> sudo ufw default deny incoming
sudo ufw default allow outgoing

This ensures the system is secure before adding new rules.

5: Allow web service ports

Enable standard web ports:

----> sudo ufw allow 80/tcp    
sudo ufw allow 443/tcp     

6: Enable UFW
----> sudo ufw enable

7: Verify rules applied
----> sudo ufw status numbered

Output:
Status: active

To                         Action      From
--                         ------      ----
80/tcp                     ALLOW       Anywhere
443/tcp                    ALLOW       Anywhere
80/tcp (v6)                ALLOW       Anywhere (v6)
443/tcp (v6)               ALLOW       Anywhere (v6)

Result:
UFW was successfully reset to default settings, and new rules were applied to allow HTTP and HTTPS traffic for web services.

sub-ques:
(a) sudo ufw reset
(b) UFW is simpler and easier to manage than raw iptables rules.

2. Block port 8080 using iptables and verify it is inaccessible.

Aim: To use iptables to block network access on port 8080 and verify that it is inaccessible from other systems.

Requirements:

1. Linux system with iptables installed
2. Root or sudo privileges
3. A service running on port 8080 (e.g., Tomcat, Python HTTP server) for testing

Procedure:
1: Verify existing iptables rules
----> sudo iptables -L -n -v
Displays all current firewall rules and counters.

2: Start a test service on port 8080 (optional for testing)
You can start a temporary HTTP server:
----> sudo python3 -m http.server 8080

This will listen on port 8080 so you can test access before and after blocking.

3: Test accessibility before blocking
----> curl http://<server_ip>:8080

4: Block port 8080 using iptables
----> sudo iptables -A INPUT -p tcp --dport 8080 -j DROP

This rule drops all incoming TCP packets to port 8080, making it inaccessible.

5: Verify that the rule is applied
----> sudo iptables -L -n -v | grep 8080

6: Test accessibility after blocking
----> curl http://<server_ip>:8080

curl: (7) Failed to connect to <server_ip> port 8080: Connection timed out


Result:
Port 8080 was successfully blocked using iptables, and it became inaccessible from external systems.

sub-ques:
a)
----> sudo iptables -L -n -v

-L → List all rules

-n → Show numeric IPs and ports

-v → Display packet and byte counters for each rule

b) If no default policy is defined, iptables will accept all traffic by default, meaning no packets are blocked.
To ensure security, you should always define explicit default policies, such as:
--> sudo iptables -P INPUT DROP
--> sudo iptables -P OUTPUT ACCEPT

